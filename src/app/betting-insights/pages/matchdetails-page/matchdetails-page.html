<div id="match-details-section" class="section">
    <div class="section-header">
        <h2>Match Details</h2>
        <p class="section-description">
            Comprehensive analysis and prediction details for the selected match
        </p>
    </div>
</div>

@if (!selectedMatch) {
<div class="card empty-state">
    <mat-icon class="outlined icon-empty">mystery</mat-icon>
    <h3 class="empty-title">Details Not Available</h3>
    <p class="empty-description">
        Please select a match to view its details
    </p>
</div>

} @else {

    <div class="card match-details-header">
    <div class="match-details-badges">
        <span class="badge badge-primary">{{ selectedMatch.match_info.league }}</span>
        <span class="badge badge-value">
            <mat-icon>moving</mat-icon>
            Value Bet
        </span>
    </div>


    <div class="match-teams">
        <div class="team-column">
            <img class="team-logo-large" [src]="selectedMatch.home_team_image" />
            <h3>{{ selectedMatch.home_team_name }}</h3>
            <p class="team-venue">Home</p>
        </div>
        <div class="match-center">
            <div class="match-datetime-large">{{ selectedMatch.match_info.date }}</div>
            <div class="match-time">{{ selectedMatch.match_info.time }}</div>
        </div>
        <div class="team-column">
            <img class="team-logo-large" [src]="selectedMatch.away_team_image" />
            <h3>{{ selectedMatch.away_team_name }}</h3>
            <p class="team-venue">Away</p>
        </div>
    </div>


    <div class="probabilities large">
        <div class="probability-item">
            <div class="probability-value prob-home">
                {{ (selectedMatch.predictions.result.home_win_prob * 100) | number:'1.0-0' }}%
            </div>
            <div class="probability-label">Home Win</div>
        </div>
        <div class="probability-item">
            <div class="probability-value prob-draw">
                {{ (selectedMatch.predictions.result.draw_prob * 100) | number:'1.0-0' }}%
            </div>
            <div class="probability-label">Draw</div>
        </div>
        <div class="probability-item">
            <div class="probability-value prob-away">
                {{ (selectedMatch.predictions.result.away_win_prob * 100) | number:'1.0-0' }}%
            </div>
            <div class="probability-label">Away Win</div>
        </div>
    </div>
</div>

<div class="card">
    <h3>Team Statistics</h3>
    <div class="statistics-list">
        <div class="statistic-row">
            <div class="statistic-label"><hr></div>
            <div class="statistic-comparison">
                <div>
                    <div class="stat-value prob-home">Expected Goals</div>
                </div>
                <div class="text-right">
                    <div class="stat-value prob-away">Home: {{ selectedMatch.predictions.goals.home_expected }}</div>
                </div>
                <div class="text-right">
                    <div class="stat-value prob-away">Away: {{ selectedMatch.predictions.goals.away_expected }}</div>
                </div>
            </div>
        </div>
        <div class="statistic-row">
            <div class="statistic-label"><hr></div>
            <div class="statistic-comparison">
                <div>
                    <div class="stat-value prob-home">Total Expected Goals</div>
                </div>
                <div>
                    <div class="stat-value prob-home">{{ selectedMatch.predictions.goals.total_expected }}</div>
                </div>
            </div>
        </div>
        <div class="statistic-row">
            <div class="statistic-label"><hr></div>
            <div class="statistic-comparison">
                <div>
                    <div class="stat-value prob-home">Over 2.5 Probability</div>
                </div>
                <div>
                    <div class="stat-value prob-home">{{ (selectedMatch.predictions.over_under.over_2_5_probability * 100) | number:'1.0-0' }}%</div>
                </div>
            </div>
        </div>
        <div class="statistic-row">
            <div class="statistic-label"><hr></div>
            <div class="statistic-comparison">
                <div>
                    <div class="stat-value prob-home">Under 2.5 Probability</div>
                </div>
                <div>
                    <div class="stat-value prob-home">{{ (selectedMatch.predictions.over_under.under_2_5_probability * 100) | number:'1.0-0' }}%</div>
                </div>
            </div>
        </div>
        <div class="statistic-row">
            <div class="statistic-label"><hr></div>
            <div class="statistic-comparison">
                <div>
                    <div class="stat-value prob-home">Recommended Bet</div>
                </div>
                <div>
                    <div class="stat-value prob-home">{{ selectedMatch.predictions.over_under.recommendation }}</div>
                </div>
            </div>
        </div>
        <div class="statistic-row">
            <div class="statistic-label"><hr></div>
            <div class="statistic-comparison">
                <div>
                    <div class="stat-value prob-home">Both Teams Score</div>
                </div>
                <div>
                    <div class="stat-value prob-home">{{ (selectedMatch.predictions.both_teams_score.probability * 100) | number:'1.0-0' }}%
        - {{ selectedMatch.predictions.both_teams_score.recommendation }}</div>
                </div>
            </div>
        </div>
        <div class="statistic-row">
            <div class="statistic-label"><hr></div>
            <div class="statistic-comparison">
                <div>
                    <div class="stat-value prob-home">Season</div>
                </div>
                <div>
                    <div class="stat-value prob-home">
                        {{ selectedMatch.match_info.season }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

}

